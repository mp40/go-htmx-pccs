{{ define "page" }}
<div class="page-div">
  <h1>Shooting</h1>
  <div class="container">
    <style>
      .calculators {
        margin-right: 2.5em;
      }

      .calculators > button {
        margin-bottom: 1em;
      }

      .calculators > div:first-of-type {
        margin-bottom: 1em;
      }

      .calculators > div {
        margin-bottom: 0.75em;
        padding-bottom: 0.5em;
        box-shadow: 0px 1px 0px 0px var(--usaf-light-grey);
      }

      .shooting-fragment > span {
        font-size: 1.15em;
        font-weight: 600;
      }

      .shooting-fragment > .shooting-calculator {
        width: 35em;
      }

      .shooting-fragment > .shooting-calculator > div {
        margin-top: 0.25em;
      }

      .shooting-fragment > .shooting-calculator > div:nth-of-type(n + 2) {
        display: flex;
        justify-content: space-between;
      }
    </style>
    <div class="calculators">
      <button
        type="button"
        hx-get="/tools/shooting/calculator"
        hx-trigger="click"
        hx-target=".calculators"
        hx-swap="beforeend"
        _="
        on click
        if .shooting-fragment.length == 1
          remove @hidden from the next <button/>
        end 
        "
      >
        add
      </button>

      <button
        hidden
        type="button"
        _="
      on click      
      remove last .shooting-fragment in .calculators
      if .shooting-fragment.length < 2
        add @hidden to me
      end  
      "
      >
        remove last
      </button>

      {{ template "calculator" .}}
    </div>

    <style>
      .hit-chance {
        display: flex;
        flex-direction: column;
        width: 7em;
        border: 1px solid var(--panzer-grey);
        height: min-content;
      }

      .hit-chance > div {
        display: flex;
        justify-content: space-between;
      }

      .hit-chance > div:first-of-type {
        background-color: var(--panzer-grey);
        color: var(--insignia-white)
      }

      .hit-chance > div:nth-of-type(n + 2):hover {
        background-color: white;
        box-shadow: 0px 1px 5px 0px var(--london-grey);
      }

      .hit-chance > div > span {
        width: calc(100% / 3);
        text-align: center;
      }
    </style>
    <div class="hit-chance">
      <div>
        <span>EAL</span>
        <span>Sgl</span>
        <span>Auto</span>
      </div>
      <div>
        <span>28</span>
        <span>99</span>
        <span>99</span>
      </div>
      <div>
        <span>27</span>
        <span>98</span>
        <span>98</span>
      </div>
      <div>
        <span>26</span>
        <span>96</span>
        <span>98</span>
      </div>
      <div>
        <span>25</span>
        <span>94</span>
        <span>97</span>
      </div>
      <div>
        <span>24</span>
        <span>90</span>
        <span>95</span>
      </div>
      <div>
        <span>23</span>
        <span>86</span>
        <span>92</span>
      </div>
      <div>
        <span>22</span>
        <span>80</span>
        <span>90</span>
      </div>
      <div>
        <span>21</span>
        <span>74</span>
        <span>86</span>
      </div>
      <div>
        <span>20</span>
        <span>67</span>
        <span>82</span>
      </div>
      <div>
        <span>19</span>
        <span>60</span>
        <span>77</span>
      </div>
      <div>
        <span>18</span>
        <span>53</span>
        <span>73</span>
      </div>
      <div>
        <span>17</span>
        <span>46</span>
        <span>68</span>
      </div>
      <div>
        <span>16</span>
        <span>39</span>
        <span>62</span>
      </div>
      <div>
        <span>15</span>
        <span>33</span>
        <span>57</span>
      </div>
      <div>
        <span>14</span>
        <span>27</span>
        <span>52</span>
      </div>
      <div>
        <span>13</span>
        <span>22</span>
        <span>47</span>
      </div>
      <div>
        <span>12</span>
        <span>18</span>
        <span>43</span>
      </div>
      <div>
        <span>11</span>
        <span>15</span>
        <span>38</span>
      </div>
      <div>
        <span>10</span>
        <span>12</span>
        <span>34</span>
      </div>
      <div>
        <span>9</span>
        <span>09</span>
        <span>31</span>
      </div>
      <div>
        <span>8</span>
        <span>07</span>
        <span>27</span>
      </div>
      <div>
        <span>7</span>
        <span>06</span>
        <span>24</span>
      </div>
      <div>
        <span>6</span>
        <span>05</span>
        <span>21</span>
      </div>
      <div>
        <span>5</span>
        <span>04</span>
        <span>19</span>
      </div>
      <div>
        <span>4</span>
        <span>03</span>
        <span>17</span>
      </div>
      <div>
        <span>3</span>
        <span>02</span>
        <span>15</span>
      </div>
      <div>
        <span>2</span>
        <span>02</span>
        <span>13</span>
      </div>
      <div>
        <span>1</span>
        <span>01</span>
        <span>11</span>
      </div>
      <div>
        <span>0</span>
        <span>01</span>
        <span>10</span>
      </div>
      <div>
        <span>-1</span>
        <span>01</span>
        <span>09</span>
      </div>
      <div>
        <span>-2</span>
        <span>00</span>
        <span>08</span>
      </div>
      <div>
        <span>-3</span>
        <span></span>
        <span>07</span>
      </div>
      <div>
        <span>-4</span>
        <span></span>
        <span>06</span>
      </div>
      <div>
        <span>-5</span>
        <span></span>
        <span>05</span>
      </div>
      <div>
        <span>-6</span>
        <span></span>
        <span>04</span>
      </div>
      <div>
        <span>-8</span>
        <span></span>
        <span>03</span>
      </div>
      <div>
        <span>-10</span>
        <span></span>
        <span>02</span>
      </div>
      <div>
        <span>-15</span>
        <span></span>
        <span>01</span>
      </div>
      <div>
        <span>-17</span>
        <span></span>
        <span>00</span>
      </div>
      <div>
        <span>-22</span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</div>
{{ end }}